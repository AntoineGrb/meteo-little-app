const e="29afc1df92b940bb0a443d33e644f026da4af771eeae29f7485195348c6c3fcb",t=[{title:"soleil",img:"./src/images/soleil.png",map:[0]},{title:"eclarcies",img:"./src/images/eclaircies.png",map:[1]},{title:"nuageux",img:"./src/images/nuageux.png",map:[2,3]},{title:"très nuageux",img:"./src/images/nuageux-max.png",map:[4,5]},{title:"brouillard",img:"./src/images/brouillard.png",map:[6,7]},{title:"pluie faible",img:"./src/images/pluvieux.png",map:[10,11,13,16,40,210,211]},{title:"pluie forte",img:"./src/images/pluvieux-max.png",map:[10,11,12,14,15,41,42,43,44,45,46,47,48,212]},{title:"neige",img:"./src/images/neigeux.png",map:[20,21,22,30,31,32,60,61,62,63,64,65,66,67,68,70,71,72,73,74,75,76,77,78,220,221,222,230,231,232,235]},{title:"orages",img:"./src/images/orage.png",map:[100,101,102,103,104,105,106,107,108,120,121,122,123,124,125,126,127,128,130,131,132,133,134,135,136,137,138,140,141]}];async function a(a="48.7991",i="2.4939"){const r=`https://api.meteo-concept.com/api/forecast/daily?token=${e}&latlng=${a},${i}`,o=`https://api.meteo-concept.com/api/forecast/nextHours?token=${e}&latlng=${a},${i}`;!function(e,a){console.log("Days :",e),console.log("Hour :",a);let n=0,i="";const r=document.querySelector(".today__widget .weather-icon"),o=document.querySelector(".today__widget > .temperature .temp-max-value"),c=document.querySelector(".today__widget > .temperature .temp-min-value"),s=document.querySelector(".today__widget > .wind .wind-value"),m=document.querySelector(".today__widget > .rain .proba-rain-value"),l=document.querySelector(".today__widget > .rain .qte-rain-value");n=Number(e.forecast[0].weather),t.forEach((e=>e.map.includes(n)?i=e.img:(""===i&&(i="./src/images/nuageux.png"),i))),r.src=i,o.innerText=e.forecast[0].tmax+" °",c.innerText=e.forecast[0].tmin+" °",s.innerText=e.forecast[0].wind10m,m.innerText=e.forecast[0].probarain,l.innerText=e.forecast[0].rr10;const u=document.querySelector(".rain__widget .proba-rain-hour-value"),g=document.querySelector(".rain__widget .qte-rain-hour-value");u.innerText=a.forecast[0].probarain,g.innerText=a.forecast[0].rr1;const d=document.querySelector(".section.week");d.innerHTML="";const p=document.createElement("ul");p.className="week__widget";let f="";const w=new Date;for(let a=0;a<7;a++){const r=new Date(w);r.setDate(w.getDate()+a);const o=`${String(r.getDate()).padStart(2,"0")}/${String(r.getMonth()+1).padStart(2,"0")}`;n=Number(e.forecast[a].weather),t.forEach((e=>e.map.includes(n)?i=e.img:(""===i&&(i="./src/images/nuageux.png"),i))),f+=`\n            <li class="week__widget__day">\n                <div class="item date">\n                    <p class="font-widget"> <time>${o}</time> </p>\n                </div>\n                <div class="item weather">\n                    <img class="weather-icon" src="${i}" alt="sun">\n                </div>\n                <div class="item temperature">\n                    <p class="font-widget"> <span class="temp-max-value">${e.forecast[a].tmax}°</span> /  <span class="temp-min-value">${e.forecast[a].tmin}°</span> </p>\n                </div>\n                <div class="item wind">\n                    <p class="font-widget"> ${e.forecast[a].wind10m}km/h </p>\n                </div>\n                <div class="item rain">\n                    <p class="font-widget"> ${e.forecast[a].probarain}% </p>\n                    <p class="font-widget"> ${e.forecast[a].rr10}mm </p>\n                </div>\n            </li>\n        `}p.innerHTML=f,d.appendChild(p)}(await n(r),await n(o))}async function n(e){const t=await fetch(e);return await t.json()}a(),function(){const e=new Date,t=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][e.getDay()],a=e.getDate(),n=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"][e.getMonth()],i=`${t} ${a} ${n}`;document.querySelector(".today__header > time").textContent=i}(),function(){let e=document.getElementById("autocomplete"),t=new google.maps.places.Autocomplete(e,{componentRestrictions:{country:"fr"}});t.addListener("place_changed",(async function(){let e=t.getPlace();if(!e.geometry)return;let n=e.name,i=e.geometry.location.lat(),r=e.geometry.location.lng();document.querySelector("#location > h1").textContent=n,await a(i,r),function(){const e=document.querySelector("main");e.style.transition="none",e.style.opacity="0",setTimeout((()=>{e.style.transition="",e.style.opacity="1"}),50)}()}))}();